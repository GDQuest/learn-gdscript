[gd_resource type="Resource" load_steps=25 format=2]

[ext_resource path="res://course/Documentation.tres" type="Resource" id=1]
[ext_resource path="res://resources/Lesson.gd" type="Script" id=2]
[ext_resource path="res://resources/Practice.gd" type="Script" id=3]
[ext_resource path="res://resources/ContentBlock.gd" type="Script" id=4]

[sub_resource type="Resource" id=1]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-RHJMQ2XN.tres"
title = ""
type = 0
text = "Until now, you learned that functions are a way to group instructions, give them a name, and reuse them.

Functions can also make calculations and [i]return[/i] new values.

Let's look at some examples to see why this is useful."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=2]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-wQMqAYVj.tres"
title = "Built-in functions that return a value"
type = 0
text = "Many functions built into GDScript make calculations and return a new value.

For example, the [code]round()[/code] function takes a decimal number as an argument and gives you back a new whole number rounded to the nearest digit."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=3]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-otxF5HUx.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/ExamplePrintRound.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=4]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-ZPxY8VUD.tres"
title = ""
type = 0
text = "Imagine you have a game where you track the player's health as a percentage, a decimal number going from [code]0.0[/code] to [code]100.0[/code].

When displaying the health on the interface, you don't want to show the decimal part. In that case, you may use the [code]round()[/code] function, like so."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=5]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-pPwQDwfy.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/ExampleRoundingHealth.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=6]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-qdYOexRj.tres"
title = ""
type = 0
text = "Notice how we assign the result of the function call to a variable. Because the [code]round()[/code] function returns a [i]new[/i] value, we need to either store the result in a variable or use the value immediately.

Above, we assigned it to a variable, but you could also do the following."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=20]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-izKUdOCQ.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/CodeRoundingHealth2.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=21]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-iGjB7tKR.tres"
title = ""
type = 0
text = "If you need to use a returned value more than once, store it in a variable first. Otherwise, you can use the function call directly where you need it."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=7]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-TRhZN4rS.tres"
title = "A cooler example: lerp()"
type = 0
text = "The [code]lerp()[/code] function (short for [i]linear interpolate[/i]), blends between two values.

It takes three arguments: a start value, an end value, and a blend amount between [code]0.0[/code] and [code]1.0[/code] that controls the blend. A value of [code]0.0[/code] gives you the start value, [code]1.0[/code] gives you the end value, and [code]0.5[/code] gives you halfway between them.

In games, [code]lerp()[/code] is often used to make things move smoothly towards a target.

[b]Note:[/b] In the code example below, I wrote the [code]lerp()[/code] function call across multiple lines for readability. This works exactly the same as writing it on one line."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=19]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-hcPK34PG.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/CodeLerpTurtlePosition.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=8]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-5AJTESv5.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/ExampleTurtleLerp.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=9]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-TtcyhcIb.tres"
title = ""
type = 0
text = "Every frame, the code calculates a position somewhere between the turtle and the mouse cursor. The [code]lerp()[/code] function takes care of everything.

It's not the most robust approach for smooth movement, as you'll learn in the future, but it's a helpful function nonetheless."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=10]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-tT6n1Txl.tres"
title = "Writing a function that returns a value"
type = 0
text = "You can make [i]your[/i] functions return values.

To make a function return a value, you use the [code]return[/code] keyword followed by the value in question.

In previous lessons, we had characters walking on grids. For those practices, you were working with cell coordinates like [code]Vector2(0, 0)[/code] or [code]Vector2(2, 1)[/code].

But cell coordinates are not the same as positions on the screen. A cell coordinate like [code]Vector2(2, 1)[/code] tells us which cell we're in, but not where it is in pixels. To draw something on screen, we need pixel positions.

We can write a function to convert cell coordinates to pixel positions. Hover over the cells below to see how it works.

The yellow circle marks the pixel position at the top-left corner of each cell. This corner is the reference point we use for grid position."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=11]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-5BnVHARb.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/ExampleGridPosition.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=12]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-BWNbDGt6.tres"
title = ""
type = 0
text = "To convert cell coordinates to pixel positions, we multiply the cell coordinates by the size of each cell in pixels.

For example, if each cell is [code]120[/code] pixels wide and tall, then:

- Cell [code]Vector2(1, 0)[/code] is at pixel position [code]Vector2(120, 0)[/code].
- Cell [code]Vector2(2, 1)[/code] would be at [code]Vector2(240, 120)[/code] pixels.

Use the interactive grid above to visualize the calculations.

This gives us the top-left corner of each cell, which is the standard way to position things on a grid in games.

The function below does this calculation and returns the result, so we can store it in a variable or use it right away."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=13]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-fUqbTxYe.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/CodeCellToWorld.tscn"
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=14]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-j47MqE82.tres"
title = ""
type = 0
text = "The [code]return[/code] keyword sends the calculated value back to the code that called the function.

Note: In Godot, we write coordinates as [code]Vector2(x, y)[/code]. The [code]x[/code] value goes left to right (the column), and [code]y[/code] goes top to bottom (the row).

In the example below, we call the function and store the returned value in the variable [code]world_position[/code]. Click the run button to see the result."
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=15]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-V6jGvGm2.tres"
title = ""
type = 0
text = ""
visual_element_path = "visuals/ExamplePrintWorldCoordinates.tscn"
reverse_blocks = false
has_separator = true

[sub_resource type="Resource" id=16]
script = ExtResource( 4 )
content_id = "res://course/lesson-22-functions-return-values/content-2rtQEn91.tres"
title = ""
type = 0
text = "Some functions return values, and some do not. You can check this in the documentation panel during practices. When a practice uses specific functions, the panel shows information about them.

In the documentation, functions that start with the word [code]void[/code] do not return a value. Any other word before the function name means it returns a value of that type. You'll learn more about types in a couple of lessons.

For now, let's practice returning values from functions!"
visual_element_path = ""
reverse_blocks = false
has_separator = false

[sub_resource type="Resource" id=17]
script = ExtResource( 3 )
practice_id = "res://course/lesson-22-functions-return-values/practice-llf8B67U.tres"
title = "Converting coordinates from the grid to the screen"
goal = "Complete the function that converts a cell coordinate to a pixel position on the screen.

The function takes a [code]Vector2[/code] cell coordinate as an argument, like [code]Vector2(2, 1)[/code]. It should return the pixel position of that cell's top-left corner.

To convert, multiply the cell coordinate by the [code]cell_size[/code]."
starting_code = "var cell_size = Vector2(80, 80)

func convert_to_world_coordinates(cell):
	"
cursor_line = 0
cursor_column = 0
hints = PoolStringArray( "To convert a cell coordinate to pixels, multiply the [code]cell[/code] by [code]cell_size[/code].", "Use the [code]return[/code] keyword to send the result back. For example: [code]return cell * cell_size[/code]" )
validator_script_path = "convert-grid-coordinates/TestConvertGridCoordinates.gd"
script_slice_path = "convert-grid-coordinates/ConvertGridCoordinates.gd"
slice_name = "run"
documentation_references = PoolStringArray(  )
documentation_resource = ExtResource( 1 )
description = "We need a function to convert grid coordinates to pixel positions. Complete the function to make the turtle move to the correct cells!"

[resource]
script = ExtResource( 2 )
title = "Functions that return a value"
content_blocks = [ SubResource( 1 ), SubResource( 2 ), SubResource( 3 ), SubResource( 4 ), SubResource( 5 ), SubResource( 6 ), SubResource( 20 ), SubResource( 21 ), SubResource( 7 ), SubResource( 19 ), SubResource( 8 ), SubResource( 9 ), SubResource( 10 ), SubResource( 11 ), SubResource( 12 ), SubResource( 13 ), SubResource( 14 ), SubResource( 15 ), SubResource( 16 ) ]
practices = [ SubResource( 17 ) ]
