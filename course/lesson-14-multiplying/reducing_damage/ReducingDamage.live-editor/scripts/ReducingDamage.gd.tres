[gd_resource type="Resource" load_steps=3 format=2]

[ext_resource path="res://addons/gdscript-slice-exporter/collections/ScriptProperties.gd" type="Script" id=1]
[ext_resource path="res://course/lesson-14-multiplying/reducing_damage/ReducingDamage.gd" type="Script" id=2]

[resource]
script = ExtResource( 1 )
nodes_paths = [ NodePath("") ]
script_file = ExtResource( 2 )
original_script = "extends Node2D

onready var _animation_player := $AnimationPlayer


var level = 3
var health = 100
var max_health = 100

# EXPORT damage
func take_damage(amount):
	if level > 2:
		amount *= 0.5
	
	health -= amount

	if health > max_health:
		health = max_health

	if health < 0:
		health = 0
# /EXPORT damage

func _run():
	take_damage(10)
	_animation_player.play(\"level\")
"
